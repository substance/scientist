<html>
<head>
  <title>Stylo</title>
  <meta charset="UTF-8">
  <script type="text/javascript" src="../substance/substance.js"></script>
  <script type="text/javascript" src="../texture.js"></script>
  <script type="text/javascript" src="./data.js"></script>
  <style>
    /* Texture Component styles */
    @import '../texture.css';
    /* You may want to use your own reset and pagestyle */
/*    @import '../substance/substance-reset.css';*/
    @import '../texture-reset.css';
    @import '../texture-pagestyle.css';
    /* Using url here, so font-awesome does not get bundled. */
    @import url('../font-awesome/css/font-awesome.min.css');
    body { overflow: hidden; }
    .sc-author { position: absolute; left: 0px; right: 0px; bottom: 0px; top: 0px; }
  </style>
  <script>
    var t = window.texture;

    /* Author Configuration */
    var configurator = new t.TextureConfigurator()
      .import(t.AuthorPackage)
      .setXMLStore(t.ExampleXMLStore, XMLFILES)

    if (typeof window !== 'undefined') {
      var loadApp = function() {
        document.body.innerHTML = '';
        varXML = window.location.hash.substring(1);
        if ('null' == varXML || '' == varXML){
          varXML = 'vanilla';
        }
        else{
          if(typeof(XMLFILES[varXML]) == 'undefined'){
            if(localStorage.getItem(varXML) === null){
              console.log("create new localstorage");
              localStorage.setItem(varXML, XMLFILES['vanilla']);
            }
          }
        }
        var app = t.Texture.mount({
          configurator: configurator,
          documentId: varXML
        }, document.body)
        window.app = app
      }

      window.onload = loadApp;
      window.addEventListener("hashchange",loadApp);
    }
  </script>
</head>
<body>

</body>
</html>
